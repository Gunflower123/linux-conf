#!/bin/bash
#
# Script name: autowifi
# Description: Automatically connect to wifi using wpa_supplicant
# Dependencies: net-tools, ip, wpa_supplicant, dhcpcd

# Kill wifi process if running
killall wpa_supplicant
# Check driver status
if lspci -k | grep -q 'iwlwifi'; then
  notify-send "Message: iwlwifi Kernel-driver present"
  # Determine WiFi interface
  if iw dev | grep -q 'wlan0' -a ifcongif -a | grep -Eq 'wlan0|DOWN'; then
    ip link set wlan0 up    #Set WiFi interface <UP>
    notify-send "Message: WiFi interface active"
    #[-l "$1" "$2" ] iw dev "$1" connect "$2" 
  fi
  
fi
    

# Show connection using 
[ -l "$1" ] iw dev "$1" link
